{"version":3,"sources":["../src/postaffiliate.js"],"names":["PostAffiliatePro","urlServer","urlLogin","username","password","options","cookies","session","axios","get","requestSession","headers","split","replace","bodyFormData","FormData","fields","push","append","JSON","stringify","method","url","data","getBuffer","getHeaders","login","join","__parseResult","o","length","getValue","__authentication","S","response","result","returnData","returnFields","rows","key","tmpItem","keyHeader","value","forEach","field","name","__getAPI","offset","limit","command","campaigns","affiliates","email","firstname","lastname","status","parentuserid","managername","refid","company","address","street","city","state","country","postalcode","phonenumber","fax","add","affiliateid","update","ids","change","deleted","filters","infos","categoryid","coupons","campaignid","bannerid","datestart","dateend","commandResponse","report","clicks","type","transactions","invoices","invoiceid","invoice","deeplink","categories","banners"],"mappings":"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","sourcesContent":["import \"@babel/polyfill/noConflict\";\n\nimport axios from \"axios\";\nimport FormData from \"form-data\";\n\nexport default class PostAffiliatePro {\n  constructor(urlServer, urlLogin, username, password, options) {\n    this.urlServer = urlServer;\n    this.urlLogin = urlLogin;\n    this.username = username;\n    this.password = password;\n    this.cookies = null;\n    this.session = null;\n    this.options = (options) ? options : [[\"rememberMe\", \"Y\"], [\"language\", \"fr-FR\"]];\n  }\n\n  async __getSession() {\n    let requestSession = await axios.get(this.urlLogin);\n    this.session = requestSession.headers[\"set-cookie\"][0].split(\";\")[0].replace(\"A=\", \"\");\n    return this.session;\n  }\n\n  async __authentication() {\n    let bodyFormData = new FormData();\n    //if (!this.session)\n    //await this.__getSession();\n\n    let fields = [[\"name\", \"value\"], [\"username\", this.username], [\"password\", this.password]];\n    if (this.options) {\n      fields.push(...this.options);\n    }\n    bodyFormData.append(\"D\", JSON.stringify({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Gpf_Api_AuthService\",\n        \"M\": \"authenticate\",\n        \"fields\": fields\n      }]\n    }));\n\n    let login = await axios({\n      method: \"POST\",\n      url: this.urlServer,\n      data: bodyFormData.getBuffer(),\n      headers: {\n        ...bodyFormData.getHeaders()\n      }\n    });\n\n    this.cookies = login.headers[\"set-cookie\"].join(\";\");\n    let o = await this.__parseResult(login.data);\n    if (o.fields && o.fields.length > 0) {\n      this.session = await this.getValue(o.fields, \"S\");\n    }\n\n    return true;\n  }\n\n  async __getAPI(data) {\n    if (!this.cookies)\n      await this.__authentication();\n\n    data.S = this.session;\n\n    let bodyFormData = new FormData();\n    bodyFormData.append(\"D\", JSON.stringify(data));\n\n    let response = await axios({\n      method: \"POST\",\n      url: this.urlServer,\n      data: bodyFormData.getBuffer(),\n      headers: {\n        \"Cookie\": `A=${this.session}; ${this.cookies}`,\n        ...bodyFormData.getHeaders()\n      }\n    });\n\n    return response.data;\n  }\n\n  async __parseResult(result) {\n    if (result.length > 0) {\n      let returnData = [], returnFields = [], headers = [];\n      if (result[0].rows || result[0].fields) {\n        let rows = result[0].rows;\n        let fields = (result[0].fields) ? result[0].fields : null;\n\n        for (let key in rows) {\n          if (key == 0) headers = rows[0];\n          else {\n            let tmpItem = {};\n\n            for (let keyHeader in headers)\n              tmpItem[headers[keyHeader]] = rows[key][keyHeader];\n\n            returnData.push(tmpItem);\n          }\n        }\n\n        if (fields) {\n          for (let key in fields) {\n            if (key == 0) headers = fields[0];\n            else {\n              let tmpItem = {};\n\n              for (let keyHeader in headers)\n                tmpItem[headers[keyHeader]] = fields[key][keyHeader];\n\n              returnFields.push(tmpItem);\n            }\n          }\n        }\n      } else {\n        let rows = result[0];\n        for (let key in rows) {\n          if (key == 0) headers = rows[0];\n          else {\n            let tmpItem = {};\n\n            for (let keyHeader in headers)\n              tmpItem[headers[keyHeader]] = rows[key][keyHeader];\n\n            returnData.push(tmpItem);\n          }\n        }\n      }\n\n      return {\n        data: returnData,\n        fields: returnFields\n      };\n    } else {\n      return null;\n    }\n  }\n\n  async getValue(fields, key) {\n    let value = null;\n    if (fields.length > 0) {\n      fields.forEach(function (field) {\n        if (field.name === key && field.value) {\n          value = field.value;\n        }\n      });\n    }\n    return value;\n  }\n\n  async command(data) {\n    let result = await this.__getAPI(data);\n\n    if (result)\n      result = this.__parseResult(result);\n\n    return result;\n  }\n\n  async commandResponse(data) {\n    return await this.__getAPI(data);\n  }\n\n  /**\n   *\n   * @param offset\n   * @param limit\n   * @returns {Promise<*>}\n   */\n  async affiliatesInCampaigns(offset, limit) {\n    let campaigns = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Features_Common_AffiliateCampaignsGrid\",\n        \"M\": \"getRows\",\n        \"offset\": offset,\n        \"limit\": limit\n      }]\n    });\n    return campaigns.data;\n  }\n\n  /**\n   *\n   * @param offset\n   * @param limit\n   * @returns {Promise<*>}\n   */\n  async affiliates(offset, limit) {\n    let affiliates = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_User_TopAffiliatesGrid\",\n        \"M\": \"getRows\",\n        \"offset\": offset,\n        \"limit\": limit\n      }]\n    });\n\n    return affiliates.data;\n  }\n\n  /**\n   *\n   * @param email : string\n   * @param password : string\n   * @param firstname : string\n   * @param lastname : string A|D|P\n   * @param status : string\n   * @param parentuserid : string\n   * @param managername : string\n   * @param refid : string\n   * @param company : string|null\n   * @param address : string|null\n   * @param street : string|null\n   * @param city : string|null\n   * @param state : string|null\n   * @param country : string|null\n   * @param postalcode : string|null\n   * @param phonenumber : string|null\n   * @param fax : string|null\n   * @returns {Promise<*>}\n   */\n  async addAffiliate(email, password, firstname, lastname, status, parentuserid, managername, refid, company, address, street, city, state, country, postalcode, phonenumber, fax) {\n    let add = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_User_AffiliateForm\",\n        \"M\": \"add\",\n        \"fields\": [[\"name\", \"value\"], [\"Id\", \"\"], [\"username\", email], [\"rpassword\", password], [\"firstname\", firstname], [\"lastname\", lastname], [\"customTimezone\", \"\"], [\"useCustomTimezone\", \"N\"], [\"lang\", \"\"], [\"photo\", \"\"], [\"rstatus\", status], [\"note\", \"\"], [\"dontSendEmail\", \"Y\"], [\"createSignupReferralComm\", \"N\"], [\"parentuserid\", parentuserid], [\"refid\", refid], [\"data1\", address], [\"data2\", company], [\"data3\", street], [\"data4\", city], [\"data5\", state], [\"data6\", country], [\"data7\", postalcode], [\"data8\", phonenumber], [\"data9\", fax], [\"data10\", managername]]\n      }]\n    });\n    return add;\n  }\n\n  async updateAffiliate(affiliateid, email, password, firstname, lastname, status, parentuserid, managername, refid, company, address, street, city, state, country, postalcode, phonenumber, fax) {\n    let update = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_User_AffiliateForm\",\n        \"M\": \"save\",\n        \"fields\": [[\"name\", \"value\"], [\"Id\", affiliateid], [\"username\", email], [\"rpassword\", password], [\"firstname\", firstname], [\"lastname\", lastname], [\"customTimezone\", \"\"], [\"useCustomTimezone\", \"N\"], [\"lang\", \"\"], [\"photo\", \"\"], [\"rstatus\", status], [\"note\", \"\"], [\"dontSendEmail\", \"Y\"], [\"createSignupReferralComm\", \"N\"], [\"parentuserid\", parentuserid], [\"refid\", refid], [\"data1\", address], [\"data2\", company], [\"data3\", street], [\"data4\", city], [\"data5\", state], [\"data6\", country], [\"data7\", postalcode], [\"data8\", phonenumber], [\"data9\", fax], [\"data10\", managername]]\n      }]\n    });\n\n    return update;\n  }\n\n  /**\n   *\n   * @param status : A|D|P\n   * @param ids : [string]\n   * @returns {Promise<*>}\n   */\n  async changeStatusAffiliate(status, ids) {\n    let change = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_User_AffiliateForm\",\n        \"M\": \"changeStatus\",\n        \"status\": status,\n        \"dontSendNotification\": \"Y\",\n        \"ids\": ids\n      }]\n    });\n    return change;\n  }\n\n  /**\n   * @param ids : [string]\n   * @returns {Promise<*>}\n   */\n  async deleteAffiliate(ids) {\n    let deleted = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_User_AffiliateForm\",\n        \"M\": \"deleteRows\",\n        \"moveChildAffiliates\": \"N\",\n        \"ids\": ids\n      }]\n    });\n\n    return deleted;\n  }\n\n  /**\n   *\n   * @param offset\n   * @param limit\n   * @returns {Promise<*>}\n   */\n  async campaigns(offset, limit) {\n    let campaigns = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Campaign_CampaignsGrid\",\n        \"M\": \"getRows\",\n        \"offset\": offset,\n        \"limit\": limit,\n        \"sort_col\": \"rorder\",\n        \"sort_asc\": true\n      }]\n    });\n\n    return campaigns.data;\n  }\n\n  /**\n   *\n   * @param filters : []\n   * @returns {Promise<*>}\n   */\n  async campaignsInfos(filters) {\n    let infos = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Campaign_CampaignsInfoData\",\n        \"M\": \"load\",\n        //\"filters\": [[\"dateinserted\",\"DP\",\"TM\"]]\n        \"filters\": filters\n      }]\n    });\n\n    return infos.data;\n  }\n\n  /**\n   *\n   * @param categoryid\n   * @param offset\n   * @param limit\n   * @returns {Promise<*>}\n   */\n  async promo(categoryid, offset, limit) {\n    let coupons = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Affiliates_Promo_BannersGrid\",\n        \"M\": \"getRows\",\n        \"offset\": offset,\n        \"limit\": limit,\n        \"filters\": [[\"type\", \"IN\", \"A,E,I,T\"], [\"categoryid\", \"=\", categoryid]],\n        \"columns\": [[\"id\"], [\"destinationurl\"], [\"name\"], [\"campaignid\"], [\"campaignname\"], [\"bannercode\"], [\"bannerdirectlinkcode\"], [\"bannerpreview\"], [\"rtype\"], [\"displaystats\"], [\"channelcode\"], [\"campaigndetails\"]]\n      }]\n    });\n\n    return coupons.data;\n  }\n\n  /**\n   *\n   * @param campaignid : string|null\n   * @param affiliateid : string|null\n   * @param bannerid : string|null\n   * @returns {Promise<*>}\n   */\n  async report(campaignid, affiliateid, bannerid, status, datestart, dateend) {\n    let filters = [];\n    if (campaignid)\n      filters.push([\"campaignid\", \"E\", campaignid]);\n    if (affiliateid)\n      filters.push([\"userid\", \"E\", affiliateid]);\n    if (bannerid)\n      filters.push([\"bannerid\", \"E\", bannerid]);\n    if (status)\n      filters.push([\"rstatus\", \"IN\", status]);\n\n    if (datestart && dateend) {\n      // 2020-07-31\n      filters.push([\"datetime\", \"D>=\", datestart]);\n      filters.push([\"datetime\", \"D<=\", dateend]);\n    }\n\n    //filters.push([\"datetime\", \"DP\", \"L30D\"]);\n    let report = await this.commandResponse({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Reports_TrafficStatsData\",\n        \"M\": \"load\",\n        \"filters\": filters\n      }],\n    });\n\n    return report;\n  }\n\n  /**\n   *\n   * @param campaignid : string|null\n   * @param affiliateid : string|null\n   * @param bannerid : string|null\n   * @param datestart : string|null\n   * @param dateend : string|null\n   * @param offset : int\n   * @param limit : int\n   * @returns {Promise<*>}\n   */\n  async reportClicks(campaignid, affiliateid, bannerid, datestart, dateend, offset, limit) {\n    let filters = [];\n    if (campaignid)\n      filters.push([\"campaignid\", \"E\", campaignid]);\n    if (affiliateid)\n      filters.push([\"userid\", \"E\", affiliateid]);\n    if (bannerid)\n      filters.push([\"bannerid\", \"E\", bannerid]);\n    if (datestart && dateend) {\n      // 2020-07-31\n      filters.push([\"datetime\", \"D>=\", datestart]);\n      filters.push([\"datetime\", \"D<=\", dateend]);\n    }\n\n    let clicks = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Reports_ClicksGrid\",\n        \"M\": \"getRows\",\n        \"sort_col\": \"datetime\",\n        \"sort_asc\": false,\n        \"offset\": offset,\n        \"limit\": limit,\n        \"filters\": filters,\n        \"columns\": [[\"id\"], [\"id\"], [\"firstname\"], [\"lastname\"], [\"userid\"], [\"userstatus\"], [\"banner\"], [\"campaign\"], [\"countrycode\"], [\"rtype\"], [\"datetime\"], [\"referrerurl\"], [\"visitorid\"], [\"ip\"], [\"cdata1\"], [\"cdata2\"]]\n      }]\n    });\n\n    return clicks.data;\n  }\n\n  /**\n   *\n   * @param campaignid : string|null\n   * @param affiliateid : string|null\n   * @param bannerid : string|null\n   * @param type : string|null\n   * @param datestart : string|null\n   * @param dateend : string|null\n   * @param offset : int\n   * @param limit : int\n   * @returns {Promise<*>}\n   */\n  async reportTransactions(campaignid, affiliateid, bannerid, type, datestart, dateend, offset, limit) {\n    let filters = [];\n    if (campaignid)\n      filters.push([\"campaignid\", \"E\", campaignid]);\n    if (affiliateid)\n      filters.push([\"userid\", \"E\", affiliateid]);\n    if (bannerid)\n      filters.push([\"bannerid\", \"E\", bannerid]);\n    if (type)\n      filters.push([\"rtype\", \"IN\", type]); // \"S,A\"\n    if (datestart && dateend) {\n      // 2020-07-31\n      filters.push([\"dateinserted\", \"D>=\", datestart]);\n      filters.push([\"dateinserted\", \"D<=\", dateend]);\n    }\n    let transactions = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Transaction_TransactionsGrid\",\n        \"M\": \"getRows\",\n        \"sort_col\": \"dateinserted\",\n        \"sort_asc\": false,\n        \"offset\": offset,\n        \"limit\": limit,\n        \"filters\": filters,\n        \"columns\": [[\"id\"], [\"id\"], [\"commission\"], [\"totalcost\"], [\"t_orderid\"], [\"productid\"], [\"dateinserted\"], [\"name\"], [\"rtype\"], [\"tier\"], [\"commissionTypeName\"], [\"rstatus\"], [\"payoutstatus\"], [\"firstname\"], [\"lastname\"], [\"userid\"], [\"userstatus\"], [\"actions\"]]\n      }]\n    });\n\n    return transactions.data;\n  }\n\n  async invoices(offset, limit) {\n    let invoices = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Payout_PayoutsToAffiliatesGrid\",\n        \"M\": \"getRows\",\n        \"sort_col\": \"dateinserted\",\n        \"sort_asc\": true,\n        \"offset\": offset,\n        \"limit\": limit,\n        \"columns\": [[\"id\"], [\"id\"], [\"payouthistoryid\"], [\"dateinserted\"], [\"firstname\"], [\"lastname\"], [\"userid\"], [\"userstatus\"], [\"amount\"], [\"affiliatenote\"], [\"actions\"]]\n      }]\n    });\n\n    return invoices;\n  }\n\n  async downloadInvoice(invoiceid) {\n    let invoice = await this.commandResponse({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Payout_PayoutHistoryForm\",\n        \"M\": \"downloadAsPdf\",\n        \"invoiceId\": invoiceid,\n        \"FormResponse\": \"Y\",\n        \"FormRequest\": \"Y\"\n      }]\n    });\n\n    // https://arya.postaffiliatepro.com/scripts/server.php?C=Pap_Merchants_Payout_PayoutHistoryForm&M=downloadAsPdf&S=v2tanoufspjxxkwrjkp0sca5wo8u6f46&FormRequest=Y&invoiceId=lxnh7b03&FormResponse=Y\n    return invoice;\n    s\n  }\n\n  /**\n   *\n   * @param url\n   * @param campaignid\n   * @returns {Promise<*>}\n   */\n  async deeplink(url, campaignid) {\n    let deeplink = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Gpf_Rpc_Server\",\n        \"M\": \"run\",\n        \"requests\": [{\n          \"C\": \"Pap_Affiliates_Promo_DynamicLink\",\n          \"M\": \"getDeeplinkCode\",\n          \"fields\": [[\"name\", \"value\"], [\"desturl\", url], [\"campaignId\", campaignid]]\n        }],\n      }],\n    });\n\n    return deeplink.fields[2].value;\n  }\n\n  /**\n   * @param campaignid : int|null\n   * @param categories : string|null\n   * @param offset : int\n   * @param limit : int\n   * @returns {Promise<void>}\n   */\n  async banners(campaignid, categories, offset, limit) {\n    let filters = [[\"rstatus\", \"NE\", \"N\"]];\n    if (categories)\n      filters.push([\"categoryid\", \"IN\", categories]);\n    if (campaignid)\n      filters.push([\"campaignid\", \"E\", campaignid]);\n    let banners = await this.command({\n      \"C\": \"Gpf_Rpc_Server\",\n      \"M\": \"run\",\n      \"requests\": [{\n        \"C\": \"Pap_Merchants_Banner_BannersGrid\",\n        \"M\": \"getRows\",\n        \"sort_col\": \"rorder\",\n        \"sort_asc\": true,\n        \"offset\": offset,\n        \"limit\": limit,\n        //\"filters\": [[\"rstatus\", \"NE\", \"N\"], [\"categoryid\", \"IN\", \"3,6\"]],\n        \"filters\": filters,\n        \"columns\": [[\"id\"], [\"id\"], [\"banner\"], [\"rtype\"], [\"isconfirmed\"], [\"destinationurl\"], [\"rstatus\"], [\"categoryid\"], [\"rorder\"], [\"actions\"]]\n      }]\n    });\n\n    return banners.data;\n  }\n}"],"file":"postaffiliate.js"}